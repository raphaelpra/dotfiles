<html>

<head>
    <title>JS Refactor -- Mochadoc Test Documentation</title>

    <link rel="stylesheet" href="../assets/doc-style.css" media="screen">
    <link rel="stylesheet" href="../assets/github-gist.css" media="screen">
</head>

<body>
    <header>
        <a href="../index.html"><span id="library-name">JS Refactor</span>
        <span id="subtitle">Mochadoc-Generated Test Documents</span></a>
    </header>

    <div class="content">
        <h1>Extract Method</h1>
<div>
    <a href="#" class="collapse-all collapse-link">Collapse All</a>
</div>
<ul>
    <ul>
    <li>
        <strong>should log an error if selection is empty</strong>
    </li>
    <li>File location: <span class="filename">./test/extractMethodFactory.test.js</span></li>
    <li class="code-sample-wrapper">
        <div class="code-expand">
            <a href="#" class="collapse-link"></a>
        </div>
        <pre class="code-sample">
            <code>
        function () {
        const sourceTokens &#x3D; readSource(&#x27;./test/fixtures/extractMethod/extractMethod.js&#x27;);
        const activeTextEditorOptions &#x3D; {
            optionsData: {
                lines: sourceTokens
            }
        };

        const activeTextEditor &#x3D; motherContainer.buildData(&#x27;activeTextEditor&#x27;, activeTextEditorOptions);
        vsCodeProperties.activeTextEditor &#x3D; activeTextEditor;

        const infoAction &#x3D; mocker.getMock(&#x27;logger&#x27;).api.info;
        const extractMethodFactory &#x3D; subcontainer.build(&#x27;extractMethodFactory&#x27;);

        const callback &#x3D; function () { };

        extractMethodFactory(callback)();

        this.verify(prettyJson(infoAction.args));
    }
            </code>
        </pre>
    </li>
</ul>
<ul>
    <li>
        <strong>should provide scope options</strong>
    </li>
    <li>File location: <span class="filename">./test/extractMethodFactory.test.js</span></li>
    <li class="code-sample-wrapper">
        <div class="code-expand">
            <a href="#" class="collapse-link"></a>
        </div>
        <pre class="code-sample">
            <code>
        function () {
        const sourceTokens &#x3D; readSource(&#x27;./test/fixtures/extractMethod/extractMethod.js&#x27;);
        const activeTextEditorOptions &#x3D; {
            optionsData: {
                lines: sourceTokens,
                selection: {
                    start: [6, 12],
                    end: [8, 13]
                }
            }
        };

        const activeTextEditor &#x3D; motherContainer.buildData(&#x27;activeTextEditor&#x27;, activeTextEditorOptions);
        vsCodeProperties.activeTextEditor &#x3D; activeTextEditor;

        const extractMethodFactory &#x3D; subcontainer.build(&#x27;extractMethodFactory&#x27;);

        const callback &#x3D; function () { };

        extractMethodFactory(callback)();

        this.verify(prettyJson(quickPickSpy.args));
    }
            </code>
        </pre>
    </li>
</ul>
<ul>
    <li>
        <strong>should extract selected lines to the local function scope as chosen by the user</strong>
    </li>
    <li>File location: <span class="filename">./test/extractMethodFactory.test.js</span></li>
    <li class="code-sample-wrapper">
        <div class="code-expand">
            <a href="#" class="collapse-link"></a>
        </div>
        <pre class="code-sample">
            <code>
        function() {
        setupOptions.selectedScopeIndex &#x3D; 2;

        const sourceTokens &#x3D; readSource(&#x27;./test/fixtures/extractMethod/extractMethod.js&#x27;);
        const activeTextEditorOptions &#x3D; {
            optionsData: {
                lines: sourceTokens,
                selection: {
                    start: [12, 8],
                    end: [14, 9]
                }
            }
        };

        const activeTextEditor &#x3D; motherContainer.buildData(&#x27;activeTextEditor&#x27;, activeTextEditorOptions);
        vsCodeProperties.activeTextEditor &#x3D; activeTextEditor;

        const extractMethodFactory &#x3D; subcontainer.build(&#x27;extractMethodFactory&#x27;);

        const callback &#x3D; function () { };

        extractMethodFactory(callback)();

        this.verify(prettyJson(applySetEditSpy.args));
    }
            </code>
        </pre>
    </li>
</ul>
<ul>
    <li>
        <strong>should extract selected lines to an object context with rebound arguments</strong>
    </li>
    <li>File location: <span class="filename">./test/extractMethodFactory.test.js</span></li>
    <li class="code-sample-wrapper">
        <div class="code-expand">
            <a href="#" class="collapse-link"></a>
        </div>
        <pre class="code-sample">
            <code>
        function() {
        setupOptions.selectedScopeIndex &#x3D; 1;

        const sourceTokens &#x3D; readSource(&#x27;./test/fixtures/extractMethod/extractMethod.js&#x27;);
        const activeTextEditorOptions &#x3D; {
            optionsData: {
                lines: sourceTokens,
                selection: {
                    start: [5, 12],
                    end: [8, 13]
                }
            }
        };

        const activeTextEditor &#x3D; motherContainer.buildData(&#x27;activeTextEditor&#x27;, activeTextEditorOptions);
        vsCodeProperties.activeTextEditor &#x3D; activeTextEditor;

        const extractMethodFactory &#x3D; subcontainer.build(&#x27;extractMethodFactory&#x27;);

        const callback &#x3D; function () { };

        extractMethodFactory(callback)();

        this.verify(prettyJson(applySetEditSpy.args));
    }
            </code>
        </pre>
    </li>
</ul>
<ul>
    <li>
        <strong>should extract out of an object method call</strong>
    </li>
    <li>File location: <span class="filename">./test/extractMethodFactory.test.js</span></li>
    <li class="code-sample-wrapper">
        <div class="code-expand">
            <a href="#" class="collapse-link"></a>
        </div>
        <pre class="code-sample">
            <code>
        function() {
        setupOptions.selectedScopeIndex &#x3D; 1;

        const sourceTokens &#x3D; readSource(&#x27;./test/fixtures/extractMethod/extractMethod.js&#x27;);
        const activeTextEditorOptions &#x3D; {
            optionsData: {
                lines: sourceTokens,
                selection: {
                    start: [19, 28],
                    end: [19, 43]
                }
            }
        };

        const activeTextEditor &#x3D; motherContainer.buildData(&#x27;activeTextEditor&#x27;, activeTextEditorOptions);
        vsCodeProperties.activeTextEditor &#x3D; activeTextEditor;

        const extractMethodFactory &#x3D; subcontainer.build(&#x27;extractMethodFactory&#x27;);

        const callback &#x3D; function () { };

        extractMethodFactory(callback)();

        this.verify(prettyJson(applySetEditSpy.args));
    }
            </code>
        </pre>
    </li>
</ul>
<ul>
    <li>
        <strong>should extract from a function call inside a condition into a local scope</strong>
    </li>
    <li>File location: <span class="filename">./test/extractMethodFactory.test.js</span></li>
    <li class="code-sample-wrapper">
        <div class="code-expand">
            <a href="#" class="collapse-link"></a>
        </div>
        <pre class="code-sample">
            <code>
        function() {
        setupOptions.selectedScopeIndex &#x3D; 1;

        const sourceTokens &#x3D; readSource(&#x27;./test/fixtures/extractMethod/extractMethod.js&#x27;);
        const activeTextEditorOptions &#x3D; {
            optionsData: {
                lines: sourceTokens,
                selection: {
                    start: [23, 13],
                    end: [23, 20]
                }
            }
        };

        const activeTextEditor &#x3D; motherContainer.buildData(&#x27;activeTextEditor&#x27;, activeTextEditorOptions);
        vsCodeProperties.activeTextEditor &#x3D; activeTextEditor;

        const extractMethodFactory &#x3D; subcontainer.build(&#x27;extractMethodFactory&#x27;);

        const callback &#x3D; function () { };

        extractMethodFactory(callback)();

        this.verify(prettyJson(applySetEditSpy.args));
    }
            </code>
        </pre>
    </li>
</ul>
<ul>
    <li>
        <strong>should extract an entire block and ignore function calls from above scope</strong>
    </li>
    <li>File location: <span class="filename">./test/extractMethodFactory.test.js</span></li>
    <li class="code-sample-wrapper">
        <div class="code-expand">
            <a href="#" class="collapse-link"></a>
        </div>
        <pre class="code-sample">
            <code>
        function() {
        setupOptions.selectedScopeIndex &#x3D; 1;

        const sourceTokens &#x3D; readSource(&#x27;./test/fixtures/extractMethod/extractMethod.js&#x27;);
        const activeTextEditorOptions &#x3D; {
            optionsData: {
                lines: sourceTokens,
                selection: {
                    start: [23, 4],
                    end: [26, 5]
                }
            }
        };

        const activeTextEditor &#x3D; motherContainer.buildData(&#x27;activeTextEditor&#x27;, activeTextEditorOptions);
        vsCodeProperties.activeTextEditor &#x3D; activeTextEditor;

        const extractMethodFactory &#x3D; subcontainer.build(&#x27;extractMethodFactory&#x27;);

        const callback &#x3D; function () { };

        extractMethodFactory(callback)();

        this.verify(prettyJson(applySetEditSpy.args));
    }
            </code>
        </pre>
    </li>
</ul>
<ul>
    <li>
        <strong>should extract and return an object as a builder</strong>
    </li>
    <li>File location: <span class="filename">./test/extractMethodFactory.test.js</span></li>
    <li class="code-sample-wrapper">
        <div class="code-expand">
            <a href="#" class="collapse-link"></a>
        </div>
        <pre class="code-sample">
            <code>
        function() {
        setupOptions.selectedScopeIndex &#x3D; 1;

        const sourceTokens &#x3D; readSource(&#x27;./test/fixtures/extractMethod/extractMethod.js&#x27;);
        const activeTextEditorOptions &#x3D; {
            optionsData: {
                lines: sourceTokens,
                selection: {
                    start: [30, 18],
                    end: [33, 5]
                }
            }
        };

        const activeTextEditor &#x3D; motherContainer.buildData(&#x27;activeTextEditor&#x27;, activeTextEditorOptions);
        vsCodeProperties.activeTextEditor &#x3D; activeTextEditor;

        const extractMethodFactory &#x3D; subcontainer.build(&#x27;extractMethodFactory&#x27;);

        const callback &#x3D; function () { };

        extractMethodFactory(callback)();

        this.verify(prettyJson(applySetEditSpy.args));
    }
            </code>
        </pre>
    </li>
</ul>
<ul>
    <li>
        <strong>should extract and return an object as a builder from a ternary expression</strong>
    </li>
    <li>File location: <span class="filename">./test/extractMethodFactory.test.js</span></li>
    <li class="code-sample-wrapper">
        <div class="code-expand">
            <a href="#" class="collapse-link"></a>
        </div>
        <pre class="code-sample">
            <code>
        function() {
        setupOptions.selectedScopeIndex &#x3D; 2;

        const sourceTokens &#x3D; readSource(&#x27;./test/fixtures/extractMethod/extractMethod.js&#x27;);
        const activeTextEditorOptions &#x3D; {
            optionsData: {
                lines: sourceTokens,
                selection: {
                    start: [43, 19],
                    end: [46, 17]
                }
            }
        };

        const activeTextEditor &#x3D; motherContainer.buildData(&#x27;activeTextEditor&#x27;, activeTextEditorOptions);
        vsCodeProperties.activeTextEditor &#x3D; activeTextEditor;

        const extractMethodFactory &#x3D; subcontainer.build(&#x27;extractMethodFactory&#x27;);

        const callback &#x3D; function () { };

        extractMethodFactory(callback)();

        this.verify(prettyJson(applySetEditSpy.args));
    }
            </code>
        </pre>
    </li>
</ul>
</ul>
    </div>

    <script src="../assets/code-collapse.js"></script>
    <script src="../assets/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</body>

</html>